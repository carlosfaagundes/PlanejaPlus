<!DOCTYPE html>
<html
  lang="pt-BR"
  class="light-style customizer-hide"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="../assets/"
  data-template="vertical-menu-template-free" 
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <title>Recuperar Senha | PLANEJA+</title>
    <meta name="description" content="Recupere sua senha do PLANEJA+" />
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/vendor/fonts/boxicons.css" />
    <link rel="stylesheet" href="../assets/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="../assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="../assets/css/demo.css" />
    <link rel="stylesheet" href="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="../assets/vendor/css/pages/page-auth.css" />
    <script src="../assets/vendor/js/helpers.js"></script>
    <script src="../assets/js/config.js"></script>
  </head>

  <body>
    <div class="container-xxl">
      <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner py-4">
          <div class="card">
            <div class="card-body">
              <div class="app-brand justify-content-center">
                <a href="index.html" class="app-brand-link gap-2">
                  <span class="app-brand-logo demo">
                     <svg width="25" viewBox="0 0 25 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                       {SVG_LOGO_CONTENT_REMOVIDO_PARA_BREVIDADE}
                    </svg>
                  </span>
                  <span class="app-brand-text demo text-body fw-bolder">PLANEJA+</span>
                </a>
              </div>
              <h4 class="mb-2">Esqueceu sua senha? üîí</h4>
              <p class="mb-4">Digite seu e-mail e enviaremos instru√ß√µes para redefinir sua senha.</p>
              <form id="formAuthentication" class="mb-3" action="#" method="POST">
                <div class="mb-3">
                  <label for="email" class="form-label">E-mail</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    placeholder="Digite seu e-mail"
                    autofocus
                    required
                  />
                </div>
                <div id="authFeedback" class="mb-3"></div> <button type="submit" class="btn btn-primary d-grid w-100">Enviar Link de Redefini√ß√£o</button>
              </form>
              <div class="text-center">
                <a href="auth-login-basic.html" class="d-flex align-items-center justify-content-center">
                  <i class="bx bx-chevron-left scaleX-n1-rtl bx-sm"></i>
                  Voltar para o login
                </a>
              </div>
            </div>
          </div>
          </div>
      </div>
    </div>
    <script src="../assets/vendor/libs/jquery/jquery.js"></script>
    <script src="../assets/vendor/libs/popper/popper.js"></script>
    <script src="../assets/vendor/js/bootstrap.js"></script>
    <script src="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="../assets/vendor/js/menu.js"></script>
    <script src="../assets/js/main.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script>
      document.getElementById('formAuthentication').addEventListener('submit', async function(event) {
        event.preventDefault();
        const form = event.target;
        const email = form.email.value.trim();
        const feedbackElement = document.getElementById('authFeedback');
        feedbackElement.textContent = ''; // Limpa mensagens anteriores
        feedbackElement.classList.remove('text-success', 'text-danger');


        if (!email) {
          feedbackElement.textContent = 'Por favor, digite seu e-mail.';
          feedbackElement.classList.add('text-danger');
          return;
        }
        // Simples valida√ß√£o de formato de email
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            feedbackElement.textContent = 'Por favor, insira um e-mail v√°lido.';
            feedbackElement.classList.add('text-danger');
            return;
        }


        // ---- IN√çCIO DA L√ìGICA DE INTERA√á√ÉO COM BACKEND (SIMULADA) ----
        try {
          console.log('Enviando para o backend (simulado):', { email });
          // const response = await fetch('/api/auth/forgot-password', { // Substitua pela URL real
          //   method: 'POST',
          //   headers: { 'Content-Type': 'application/json' },
          //   body: JSON.stringify({ email })
          // });
          // const data = await response.json();

          // if (response.ok) {
          //   feedbackElement.textContent = data.message || 'Se o e-mail existir em nosso sistema, um link de redefini√ß√£o foi enviado.';
          //   feedbackElement.classList.add('text-success');
          //   form.reset(); // Limpa o formul√°rio
          // } else {
          //   feedbackElement.textContent = data.message || 'Erro ao processar a solicita√ß√£o.';
          //   feedbackElement.classList.add('text-danger');
          // }
          
          // Simula√ß√£o para demonstra√ß√£o sem backend:
          feedbackElement.textContent = 'Se o e-mail existir em nosso sistema, um link de redefini√ß√£o foi enviado (simulado).';
          feedbackElement.classList.remove('text-danger');
          feedbackElement.classList.add('text-success');
          form.reset();

        } catch (error) {
          console.error('Erro ao solicitar recupera√ß√£o de senha:', error);
          feedbackElement.textContent = 'Ocorreu um erro de conex√£o. Tente novamente.';
          feedbackElement.classList.add('text-danger');
        }
        // ---- FIM DA L√ìGICA DE INTERA√á√ÉO COM BACKEND ----
      });
    </script>
  </body>
</html>